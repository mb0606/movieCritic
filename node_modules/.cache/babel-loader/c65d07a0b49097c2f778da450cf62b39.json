{"ast":null,"code":"var _jsxFileName = \"/Users/michaelbranconier/Documents/LMU/Spring 2021/CMSI-298-projects/movieCritic/movie-critic/src/Pages/Movie.jsx\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState } from 'react';\nimport ReviewList from '../Components/ReviewList';\nimport { Paper, Grid } from '@material-ui/core';\nimport { firestore } from '../firebase/firebase.util';\nimport { useLocation } from 'react-router-dom';\nimport '../Style.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  searchResultPic: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n    border: '1px solid #2A363B',\n    borderRadius: '10px'\n  },\n  movieImgWrapper: {\n    width: '20%',\n    float: 'left',\n    clear: 'left'\n  },\n  headingWrapper: {\n    marginTop: '10px',\n    marginLeft: '30px',\n    marginBottom: '20px',\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  descriptionWrapper: {\n    width: '78%',\n    float: 'right',\n    clear: 'right'\n  },\n  ratingText: {\n    fontFamily: 'Raleway',\n    marginTop: '0px',\n    fontWeight: 'light'\n  },\n  titleText: {\n    fontFamily: 'Raleway',\n    fontSize: '50px',\n    fontWeight: 'bold',\n    marginBottom: '0px'\n  }\n}));\nexport default function Movie() {\n  _s();\n\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [reviews, setReviews] = useState([]);\n  const [movie, setMovie] = useState([]);\n  const location = useLocation();\n  let movieId = new URLSearchParams(location.search).get('id');\n  useEffect(() => {\n    setLoading(true);\n    fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=436a07c5838058f745a532d6f8cbc1d6`).then(response => response.json()).then(data => {\n      setMovie(data);\n      setLoading(false);\n    });\n  }, [setLoading, setMovie]);\n  useEffect(() => {\n    setLoading(true);\n\n    (async () => {\n      try {\n        const postsRef = firestore.collection(\"reviews\");\n        const postsDoc = await postsRef.where(\"movieId\", \"==\", movieId).get();\n        const data = postsDoc.docs.map(item => ({\n          id: item.id,\n          ...item.data()\n        }));\n        setReviews(data);\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n      }\n    })();\n  }, [setLoading, setReviews]);\n\n  if (loading || reviews.length === 0 && reviews) {\n    return /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        spacing: 0,\n        style: {\n          backgroundColor: '#FECEAB',\n          marginLeft: '50px',\n          marginRight: '50px',\n          marginTop: '100px',\n          padding: '20px',\n          minHeight: '80vh'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.headingWrapper,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.movieImgWrapper,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: classes.searchResultPic,\n              src: `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.descriptionWrapper,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: classes.titleText,\n                  children: movie.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: classes.ratingText,\n                  children: [\"Average Rating: \", movie.vote_average]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: classes.ratingText,\n                  children: \"Rating by Friends: 8.7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ReviewList, {\n            reviews: reviews\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Movie, \"IF02WLwRRKRze+K1PXnyX4VaFAc=\", false, function () {\n  return [useStyles, useLocation];\n});\n\n_c = Movie;\n\nvar _c;\n\n$RefreshReg$(_c, \"Movie\");","map":{"version":3,"sources":["/Users/michaelbranconier/Documents/LMU/Spring 2021/CMSI-298-projects/movieCritic/movie-critic/src/Pages/Movie.jsx"],"names":["React","useEffect","useState","ReviewList","Paper","Grid","firestore","useLocation","makeStyles","CircularProgress","useStyles","theme","searchResultPic","width","height","objectFit","border","borderRadius","movieImgWrapper","float","clear","headingWrapper","marginTop","marginLeft","marginBottom","display","justifyContent","descriptionWrapper","ratingText","fontFamily","fontWeight","titleText","fontSize","Movie","classes","loading","setLoading","reviews","setReviews","movie","setMovie","location","movieId","URLSearchParams","search","get","fetch","then","response","json","data","postsRef","collection","postsDoc","where","docs","map","item","id","error","length","backgroundColor","marginRight","padding","minHeight","poster_path","title","vote_average"],"mappings":"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","sourcesContent":["import {React, useEffect, useState} from 'react'\nimport ReviewList from '../Components/ReviewList'\nimport {Paper, Grid} from '@material-ui/core';\nimport { firestore } from '../firebase/firebase.util';\nimport { useLocation} from 'react-router-dom'\nimport '../Style.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n\nconst useStyles = makeStyles((theme) => ({\n  searchResultPic: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n    border: '1px solid #2A363B',\n    borderRadius: '10px',\n  },\n  movieImgWrapper:{\n    width:'20%',\n    float: 'left',\n    clear:'left',\n    \n  },\n  headingWrapper:{\n    marginTop:'10px',\n    marginLeft:'30px',\n    marginBottom:'20px',\n    display:'flex',\n    justifyContent:'space-between'\n  },\n  descriptionWrapper:{\n    width:'78%',\n    float:'right',\n    clear: 'right',\n  },\n  ratingText:{\n    fontFamily: 'Raleway',\n    marginTop:'0px',\n    fontWeight:'light'\n  },\n  titleText:{\n    fontFamily: 'Raleway',\n    fontSize: '50px',\n    fontWeight: 'bold',\n    marginBottom:'0px',\n  }\n}))\n\nexport default function Movie(){\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [reviews, setReviews] = useState([]);\n    const[movie,setMovie] =useState([]);\n\n    const location = useLocation();\n    let movieId = new URLSearchParams(location.search).get('id') \n\n\n    useEffect(()=>{\n       setLoading(true)\n      fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=436a07c5838058f745a532d6f8cbc1d6`)\n      .then(response => response.json())\n      .then((data)=>{\n          setMovie(data)\n          setLoading(false)\n        })\n\n      },[setLoading, setMovie])\n\n    useEffect(() => {\n        setLoading(true);\n        (async () => {\n          try {\n            const postsRef = firestore.collection(\"reviews\");\n            const postsDoc = await postsRef.where(\"movieId\", \"==\", movieId).get();\n            const data = postsDoc.docs.map((item) => ({\n              id: item.id,\n              ...item.data(),\n            }));\n            setReviews(data);\n            setLoading(false);\n          } catch (error) {\n            setLoading(false);\n          }\n        })();\n\n      }, [setLoading, setReviews]);\n\n      if (loading || (reviews.length === 0 && reviews)) {\n        return <CircularProgress />;\n\n      }\n    return(\n        <>\n        <div style={{width:'100%'}}>\n          <Paper spacing={0} style={{backgroundColor: '#FECEAB', marginLeft: '50px',marginRight: '50px', marginTop: '100px',padding: '20px', minHeight:'80vh'}}>\n            <div className={classes.headingWrapper}>\n            <div className={classes.movieImgWrapper}>\n              <img className={classes.searchResultPic}src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}></img>\n            </div>\n            <div className={classes.descriptionWrapper}>\n              <Grid container spacing={3}>\n                <Grid item xs={12}>\n                  <h1 className={classes.titleText}>{movie.title}</h1>\n                </Grid>\n                <Grid item xs={6}>\n                  <h2 className={classes.ratingText}>Average Rating: {movie.vote_average}</h2>\n                </Grid>\n                <Grid item xs={6}>\n                  <h2 className={classes.ratingText}>Rating by Friends: 8.7</h2>\n                </Grid>\n                \n              </Grid>\n            </div>\n          </div>\n            <div>\n              <h1>Reviews</h1>\n              <ReviewList reviews={reviews}/>\n            </div>\n              \n          </Paper>\n        </div>\n\n        </>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}