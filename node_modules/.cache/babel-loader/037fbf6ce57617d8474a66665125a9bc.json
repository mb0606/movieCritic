{"ast":null,"code":"var _jsxFileName = \"/Users/michaelbranconier/Documents/LMU/Spring 2021/CMSI-298-projects/movieCritic/movie-critic/src/Pages/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport '../Style.css';\nimport MakeAPost from '../Components/MakeAPost';\nimport Post from '../Components/Post';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { firestore } from '../firebase/firebase.util';\nimport ReviewList from '../Components/ReviewList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const [reviews, setReviews] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n\n    (async () => {\n      try {\n        const postsRef = firestore.collection(\"reviews\");\n        const postsDoc = await postsRef.where(\"movieId\", \"==\", \"808\").get();\n        const data = postsDoc.docs.map(item => ({\n          id: item.id,\n          ...item.data()\n        }));\n        setReviews(data);\n        setLoading(false);\n        console.log(reviews);\n      } catch (error) {\n        setLoading(false);\n      }\n    })();\n  }, [setLoading, setReviews]);\n\n  if (loading || reviews.length === 0 && reviews) {\n    return /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100vh',\n      backgroundPosition: 'center',\n      backgroundSize: 'cover'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#2A363B',\n        height: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          opacity: '1',\n          display: 'flex',\n          alignItems: 'center',\n          paddingTop: 100,\n          flexDirection: 'column',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(MakeAPost, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            paddingTop: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Post, {\n            reviews: reviews\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"6UelhNlD6dpDhuGEfZyXQapSI6E=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/michaelbranconier/Documents/LMU/Spring 2021/CMSI-298-projects/movieCritic/movie-critic/src/Pages/Home.jsx"],"names":["React","useEffect","useState","MakeAPost","Post","CircularProgress","firestore","ReviewList","Home","reviews","setReviews","loading","setLoading","postsRef","collection","postsDoc","where","get","data","docs","map","item","id","console","log","error","length","height","backgroundPosition","backgroundSize","backgroundColor","opacity","display","alignItems","paddingTop","flexDirection","width"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,cAAP;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AAEA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAC7B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,KAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,KAAC,YAAY;AACX,UAAI;AACF,cAAMC,QAAQ,GAAGP,SAAS,CAACQ,UAAV,CAAqB,SAArB,CAAjB;AACA,cAAMC,QAAQ,GAAG,MAAMF,QAAQ,CAACG,KAAT,CAAe,SAAf,EAA0B,IAA1B,EAAgC,KAAhC,EAAuCC,GAAvC,EAAvB;AACA,cAAMC,IAAI,GAAGH,QAAQ,CAACI,IAAT,CAAcC,GAAd,CAAmBC,IAAD,KAAW;AACxCC,UAAAA,EAAE,EAAED,IAAI,CAACC,EAD+B;AAExC,aAAGD,IAAI,CAACH,IAAL;AAFqC,SAAX,CAAlB,CAAb;AAIAR,QAAAA,UAAU,CAACQ,IAAD,CAAV;AACAN,QAAAA,UAAU,CAAC,KAAD,CAAV;AACAW,QAAAA,OAAO,CAACC,GAAR,CAAYf,OAAZ;AACD,OAVD,CAUE,OAAOgB,KAAP,EAAc;AACdb,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,KAdD;AAgBD,GAlBQ,EAkBN,CAACA,UAAD,EAAaF,UAAb,CAlBM,CAAT;;AAoBA,MAAIC,OAAO,IAAKF,OAAO,CAACiB,MAAR,KAAmB,CAAnB,IAAwBjB,OAAxC,EAAkD;AAChD,wBAAO,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AAED;;AACD,sBACE;AACE,IAAA,KAAK,EAAE;AACLkB,MAAAA,MAAM,EAAE,OADH;AAELC,MAAAA,kBAAkB,EAAE,QAFf;AAGLC,MAAAA,cAAc,EAAE;AAHX,KADT;AAAA,2BAOE;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,eAAe,EAAE,SAAnB;AAA8BH,QAAAA,MAAM,EAAE;AAAtC,OAAZ;AAAA,6BACE;AACE,QAAA,KAAK,EAAE;AACLI,UAAAA,OAAO,EAAE,GADJ;AAELC,UAAAA,OAAO,EAAE,MAFJ;AAGLC,UAAAA,UAAU,EAAE,QAHP;AAILC,UAAAA,UAAU,EAAE,GAJP;AAKLC,UAAAA,aAAa,EAAE,QALV;AAMLC,UAAAA,KAAK,EAAE;AANF,SADT;AAAA,gCAUE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,gBAVF,eAWE;AAAK,UAAA,KAAK,EAAE;AAAEF,YAAAA,UAAU,EAAE;AAAd,WAAZ;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,OAAO,EAAEzB;AAAf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,UADF;AA2BD;;GAvDuBD,I;;KAAAA,I","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../Style.css';\nimport MakeAPost from '../Components/MakeAPost';\nimport Post from '../Components/Post';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { firestore } from '../firebase/firebase.util';\nimport ReviewList from '../Components/ReviewList'\n\nexport default function Home() {\n  const [reviews, setReviews] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    (async () => {\n      try {\n        const postsRef = firestore.collection(\"reviews\");\n        const postsDoc = await postsRef.where(\"movieId\", \"==\", \"808\").get();\n        const data = postsDoc.docs.map((item) => ({\n          id: item.id,\n          ...item.data(),\n        }));\n        setReviews(data);\n        setLoading(false);\n        console.log(reviews);\n      } catch (error) {\n        setLoading(false);\n      }\n    })();\n\n  }, [setLoading, setReviews]);\n\n  if (loading || (reviews.length === 0 && reviews)) {\n    return <CircularProgress />;\n\n  }\n  return (\n    <div\n      style={{\n        height: '100vh',\n        backgroundPosition: 'center',\n        backgroundSize: 'cover',\n      }}\n    >\n      <div style={{ backgroundColor: '#2A363B', height: '100%' }}>\n        <div\n          style={{\n            opacity: '1',\n            display: 'flex',\n            alignItems: 'center',\n            paddingTop: 100,\n            flexDirection: 'column',\n            width: '100%',\n          }}\n        >\n          <MakeAPost />\n          <div style={{ paddingTop: '10px' }}>\n            <Post reviews={reviews}/>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}